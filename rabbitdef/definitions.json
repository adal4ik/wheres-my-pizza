{
    "vhosts": [{ "name": "/" }],
    "users": [],
    "permissions": [],
    "exchanges": [
      { "name": "orders_topic",        "vhost": "/", "type": "topic",  "durable": true, "auto_delete": false, "internal": false, "arguments": {} },
      { "name": "notifications_fanout","vhost": "/", "type": "fanout", "durable": true, "auto_delete": false, "internal": false, "arguments": {} },
      { "name": "dlx",                 "vhost": "/", "type": "direct", "durable": true, "auto_delete": false, "internal": false, "arguments": {} }
    ],
    "queues": [
      { "name": "kitchen.q",        "vhost": "/", "durable": true, "auto_delete": false,
        "arguments": { "x-dead-letter-exchange": "dlx", "x-dead-letter-routing-key": "kitchen.q" } },
      { "name": "kitchen.high.q",   "vhost": "/", "durable": true, "auto_delete": false,
        "arguments": { "x-dead-letter-exchange": "dlx", "x-dead-letter-routing-key": "kitchen.high.q" } },
      { "name": "kitchen.q.dlq",    "vhost": "/", "durable": true, "auto_delete": false, "arguments": {} },
      { "name": "kitchen.high.q.dlq","vhost": "/", "durable": true, "auto_delete": false, "arguments": {} },
      { "name": "kitchen.retry.q",  "vhost": "/", "durable": true, "auto_delete": false,
        "arguments": { "x-message-ttl": 15000, "x-dead-letter-exchange": "orders_topic", "x-dead-letter-routing-key": "kitchen.retry" } },
      { "name": "notifications.q",  "vhost": "/", "durable": true, "auto_delete": false, "arguments": {} }
    ],
    "bindings": [
      { "vhost": "/", "source": "orders_topic", "destination": "kitchen.q",      "destination_type": "queue", "routing_key": "kitchen.*.normal", "arguments": {} },
      { "vhost": "/", "source": "orders_topic", "destination": "kitchen.high.q", "destination_type": "queue", "routing_key": "kitchen.*.high",   "arguments": {} },
      { "vhost": "/", "source": "orders_topic", "destination": "kitchen.q",      "destination_type": "queue", "routing_key": "kitchen.retry",    "arguments": {} },
  
      { "vhost": "/", "source": "dlx", "destination": "kitchen.q.dlq",      "destination_type": "queue", "routing_key": "kitchen.q",      "arguments": {} },
      { "vhost": "/", "source": "dlx", "destination": "kitchen.high.q.dlq", "destination_type": "queue", "routing_key": "kitchen.high.q", "arguments": {} },
  
      { "vhost": "/", "source": "notifications_fanout", "destination": "notifications.q", "destination_type": "queue", "routing_key": "", "arguments": {} }
    ]
  }
  